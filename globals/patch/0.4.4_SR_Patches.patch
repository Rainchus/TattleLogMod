#export:Function $WriteIntoSetGlobalByte
{
    %Locate target
    LAW        V0, 80145520    %Function where hook is
    %decode where this is
    LUI        V1, 00FF
    ORI        V1, V1, FFFF
    AND        V0, V0, V1
    SLL        V0, V0, 2
    LUI        V1, 8000
    ADD        V0, V0, V1
    %Store new instruction
    LI        V1, 00822021    %Correct instruction
    SW        V1, 48 (V0)
    %Delete this function call (second very hacky thing)
    DADDU    V0, RA, R0
    ADDI    V0, V0, FFF8
    SW        R0, 0 (V0)
    %
    JR        RA
    NOP
}

#export:Function $WriteIntoSetGlobalFlag
{
    %Locate target
    LAW        V0, 80145450    %Function where hook is
    %decode where this is
    LUI        V1, 00FF
    ORI        V1, V1, FFFF
    AND        V0, V0, V1
    SLL        V0, V0, 2
    LUI        V1, 8000
    ADD        V0, V0, V1
    %Store new instruction
    LI        V1, 1000001A    %Correct instruction
    SW        V1, 38 (V0)
    %Delete this function call (second very hacky thing)
    DADDU    V0, RA, R0
    ADDI    V0, V0, FFF8
    SW        R0, 0 (V0)
    %
    JR        RA
    NOP
}

@Hook:Global 80026EA4 {
    JAL $WriteIntoSetGlobalFlag
    NOP
    JAL $WriteIntoSetGlobalByte
    NOP
    LUI s0, 8007
    J 80026EAC
    ADDIU s0, s0, 419C
}